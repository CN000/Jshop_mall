(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-setting-user_info-index"],{"0e46":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".user-head[data-v-49addd4d]{height:%?100?%}.user-head-img[data-v-49addd4d]{height:%?90?%;width:%?90?%;border-radius:50%}.cell-hd-title[data-v-49addd4d]{color:#333}.cell-item-bd[data-v-49addd4d]{color:#666;font-size:%?26?%}.cell-item-hd[data-v-49addd4d]{width:%?160?%}",""]),t.exports=i},1326:function(t,i,e){"use strict";e.r(i);var a=e("d469"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a},5259:function(t,i,e){var a=e("0e46");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("3d4e12d9",a,!0,{sourceMap:!1,shadowMode:!1})},b8a9:function(t,i,e){"use strict";e.r(i);var a=e("d199"),s=e("1326");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("f779");var l,c=e("f0c5"),u=Object(c["a"])(s["default"],a["b"],a["c"],!1,null,"49addd4d",null,!1,a["a"],l);i["default"]=u.exports},d199:function(t,i,e){"use strict";var a,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"content-top"},[e("v-uni-view",{staticClass:"cell-group"},[e("v-uni-view",{staticClass:"cell-item user-head"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("头像")])],1),e("v-uni-view",{staticClass:"cell-item-ft"},[e("v-uni-image",{staticClass:"cell-ft-next user-head-img have-none",attrs:{mode:"aspectFill",src:t.avatar},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.uploadAvatar.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("昵称")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[e("v-uni-input",{staticClass:"cell-bd-input",attrs:{placeholder:""},model:{value:t.nickname,callback:function(i){t.nickname=i},expression:"nickname"}})],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("用户名")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[e("v-uni-input",{staticClass:"cell-bd-input",attrs:{placeholder:"",disabled:"true"},model:{value:t.username,callback:function(i){t.username=i},expression:"username"}})],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("手机号")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[e("v-uni-input",{staticClass:"cell-bd-input",attrs:{placeholder:"",disabled:"true"},model:{value:t.mobile,callback:function(i){t.mobile=i},expression:"mobile"}})],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid right-img"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("性别")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[e("v-uni-view",{staticClass:"uni-list"},[e("v-uni-view",{staticClass:"uni-list-cell-db"},[e("v-uni-picker",{attrs:{mode:"selector",value:t.index,range:t.objectSex},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.objectSex[t.sex]))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"cell-item-ft"},[e("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/ic-pull-down.png"}})],1)],1),e("v-uni-view",{staticClass:"cell-item cell-item-mid right-img"},[e("v-uni-view",{staticClass:"cell-item-hd"},[e("v-uni-view",{staticClass:"cell-hd-title"},[t._v("生日")])],1),e("v-uni-view",{staticClass:"cell-item-bd"},[e("v-uni-view",{staticClass:"uni-list"},[e("v-uni-view",{staticClass:"uni-list-cell-db"},[e("v-uni-picker",{attrs:{mode:"date",value:t.date,start:t.startDate,end:t.endDate},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindDateChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.birthday))])],1)],1)],1)],1),e("v-uni-view",{staticClass:"cell-item-ft"},[e("v-uni-image",{staticClass:"cell-ft-next icon",attrs:{src:"/static/image/ic-pull-down.png"}})],1)],1)],1)],1),e("v-uni-view",{staticClass:"button-bottom"},[e("v-uni-button",{staticClass:"btn btn-square btn-b",attrs:{"hover-class":"btn-hover2",disabled:t.submitStatus,loading:t.submitStatus},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitHandler()}}},[t._v("保存")])],1)],1)},n=[];e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}))},d469:function(t,i,e){"use strict";e("99af"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{title:"picker",avatar:"",objectSex:["男","女","未知"],index:2,nickname:"",username:"",mobile:"",date:"1990-01-01",birthday:"请选择",sex:0,submitStatus:!1}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},methods:{bindPickerChange:function(t){this.sex=t.target.value},bindDateChange:function(t){this.birthday=t.target.value},getDate:function(t){var i=new Date,e=i.getFullYear(),a=i.getMonth()+1,s=i.getDate();return"start"===t?e-=60:"end"===t&&(e+=2),a=a>9?a:"0"+a,s=s>9?s:"0"+s,"".concat(e,"-").concat(a,"-").concat(s)},uploadAvatar:function(){var t=this;this.$api.uploadFiles((function(i){if(i.status){var e=i.data.url;t.$api.changeAvatar({avatar:e},(function(i){i.status?t.$common.successToShow("上传成功",(function(){t.avatar=i.data.avatar})):t.$common.errorToShow(i.msg)}))}else t.$common.errorToShow(i.msg)}))},submitHandler:function(){var t=this;this.submitStatus=!0;var i=this.sex+1;if("请选择"==this.birthday)return this.$common.successToShow("请选择出生日期"),this.submitStatus=!1,!1;this.$api.editInfo({sex:i,birthday:this.birthday,nickname:this.nickname},(function(i){t.$common.successToShow(i.msg,(function(t){uni.navigateBack({delta:1})}))}),(function(i){t.submitStatus=!1}))}},onLoad:function(){var t=this;t.$api.userInfo({},(function(i){if(i.status){var e=i.data.sex-1;null==i.data.birthday&&(i.data.birthday="请选择"),t.nickname=i.data.nickname,t.mobile=i.data.mobile,t.sex=e,t.index=e,t.birthday=i.data.birthday,t.avatar=i.data.avatar,i.data.username?t.username=i.data.username:t.username="暂无用户名","请选择"!=t.birthday&&(t.date=t.birthday)}else t.$common.errorToShow(i.msg)}))}};i.default=a},f779:function(t,i,e){"use strict";var a=e("5259"),s=e.n(a);s.a}}]);